# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

name                gds-utilities
version             2.19.5
revision            0

categories          science
platforms           darwin
license             GPL
maintainers         {@emaros ligo.org:ed.maros} openmaintainer

description         LSC Algorithm Library
long_description    LIGO Scientific Collaboration Algorithm Library containing core \
                    routines for gravitational wave data analysis.

homepage            https://git.ligo.org/gds/gds
master_sites        http://software.ligo.org/lscsoft/source/

checksums           rmd160  c5f3a1c8cecf61cb3087e360e9809ddff3da54a3 \
                    sha256  2d561f16ade8d0410df1e23805edd7598303596cb848487613782e90dea5f709 \
                    size    874703

depends_build-append \
                    port:autoconf \
                    port:automake \
                    port:pkgconfig

depends_lib-append \
                    port:gds \
                    port:gds-dmt

configure.args-append \
                    --enable-dtt \
                    --enable-root-objects

#------------------------------------------------------------------------
# Use root 6, C++ 2014 for High Sierra and beyond, else root 5, C++ 2011
#------------------------------------------------------------------------
if {${os.platform} eq "darwin" && ${os.major} >= 17 } {
    compiler.cxx_standard   2014

    depends_build-append    port:root6
} else {
    compiler.cxx_standard   2011

    depends_build-append    port:root5
}

livecheck.type   regex
livecheck.url    ${master_sites}
livecheck.regex  {gds-utilities-(\d+(?:\.\d+)*).tar.gz}
