# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

name                gds-gui
version             2.19.4
revision            0

categories          science
platforms           darwin
license             GPL
maintainers         {@emaros ligo.org:ed.maros} openmaintainer

description         LSC Algorithm Library
long_description    LIGO Scientific Collaboration Algorithm Library containing core \
                    routines for gravitational wave data analysis.

homepage            https://git.ligo.org/gds/gds
master_sites        https://software.ligo.org/lscsoft/source/

checksums           rmd160  75afcbdafd50f7213c3e59387c591cbd51229a4b \
                    sha256  3b47a7ed7aefd52e6a96a4cae33e417587d69892db8e2fecb0b813fbb54d0aa2 \
                    size    794967

depends_build-append \
                    port:autoconf \
                    port:automake \
                    port:pkgconfig

depends_lib-append  port:gds

configure.args  --enable-dtt \
                --enable-python \
                --enable-root-objects

#------------------------------------------------------------------------
# Use root 6, C++ 2014 for High Sierra and beyond, else root 5, C++ 2011
#------------------------------------------------------------------------
if {${os.platform} eq "darwin" && ${os.major} >= 17 } {
    compiler.cxx_standard   2014

    depends_lib-append      port:root6
} else {
    compiler.cxx_standard   2011

    depends_lib-append      port:root5
}

livecheck.type   regex
livecheck.url    ${master_sites}
livecheck.regex  {gds-gui-(\d+(?:\.\d+)*).tar.gz}
