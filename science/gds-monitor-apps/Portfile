# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

name                gds-monitor-apps
version             2.19.5
revision            0

categories          science
platforms           darwin
license             GPL
maintainers         {@emaros ligo.org:ed.maros} openmaintainer

description         LSC Algorithm Library
long_description    LIGO Scientific Collaboration Algorithm Library containing core \
                    routines for gravitational wave data analysis.

homepage            https://git.ligo.org/gds/gds
master_sites        https://software.ligo.org/lscsoft/source/

checksums           rmd160  427197ed4c4a6ea3fef7999d8eccb37071a60f1f \
                    sha256  e3b5f2a4fb419d3de1458489b730f1913fb6cef093e0db4c9e275f207de22915 \
                    size    1603137

depends_build-append \
                    port:autoconf \
                    port:automake \
                    port:pkgconfig

depends_lib-append \
                    port:gds \
                    port:gds-gui \
                    port:gds-dmt

configure.args-append \
                    --enable-dtt \
                    --enable-root-objects

#------------------------------------------------------------------------
# Use root 6, C++ 2014 for High Sierra and beyond, else root 5, C++ 2011
#------------------------------------------------------------------------
if {${os.platform} eq "darwin" && ${os.major} >= 17 } {
    compiler.cxx_standard   2014

    depends_lib-append      port:root6
} else {
    compiler.cxx_standard   2011

    depends_lib-append      port:root5
}

livecheck.type   regex
livecheck.url    ${master_sites}
livecheck.regex  {gds-monitor-apps-(\d+(?:\.\d+)*).tar.gz}
